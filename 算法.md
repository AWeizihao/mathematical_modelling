# 整体逻辑
先进行配对矩阵A的枚举，对于每一个确定的A，进行对n和m的线性规划。

线性规划使用python的pulp库实现。枚举需要自己手写。
# 线性规划部分
先考虑一个确定的配对矩阵[A]，每个元素是 $a_{ij}$，代表了对于每一台i型号挖机，都匹配 $a_{ij}$ 个j型号矿车。

设i型号挖机一共用了 $n_i$ 台，j型号矿车用了 $m_j$ 台，可以发现两者并不是独立的，而受矩阵A的约束：
$$[n_1 n_2 … n_p]A=[m_1 m_2 … m_q]$$

此外，还有绝对数量的约束：
$$0≤n_i≤n_{max} $$
$$0≤m_j≤m_{max}[j]$$
$$n_i,m_j \in Z$$

其中，$n_{max}$是n的最大可能值，这个边界条件本质上不起作用，因为n受到更强的约束，被A和m严格确定下来。但是因程序需要还是保留在此。
$m_{max}[j]$ 则是矿车的总数列表，例如[7,7,3]

最后，还要保证 $n_i$ 至少有三个非零

以上就是整数规划问题的约束，下面计算利润函数：
利润可以表示为
$$Profit=\sum_{i=1}^{p}(A_ik-C_i)n_i-\sum_{j=1}^{q}B_jm_j$$
其中，常系数：
$$A=LV_i x u_i=工作月数×斗容×矿石价格×效率$$
$$B_j=L(w_jg+h_j+s_j)=工作月数×(油耗×油价+人力成本+维护成本)（矿车）$$ 
$$C_i=L(w_jg+h_i+s_i)+p_i=工作月数×(油耗×油价+人力成本+维护成本)+采购单价（挖机）$$

# 对配对矩阵矩阵A的枚举
使用Python的itertool，制作一个枚举矩阵的迭代器。
枚举包含下面的要求
+ 矩阵元素的值必须对应小于m_{max}[j]，这意味着不能配对超过矿车总数的矿车。
+ 矩阵某些位置的值固定为0，意味着这两者不能配对。
  这通过numpy库里的寻找函数实现，找出F矩阵中的0的位置，A中对应位置也是0。
+ 矩阵每一行最多只有一个元素非零，保证每一类挖机都匹配同类矿车

# 优化
## 1
由于逻辑是先枚举矩阵后枚举mn，当矩阵中某一行 $i$ 的配对矿车全为0，我们后续自然也就可以直接让 $n_i=0$ 而不需要再枚举它。因为如果不是0，意味着这些挖机没有配对任何矿车，不产生任何利润但是消耗成本，因此不划算。
## 2
我们为每一台i型号的挖机配$a_{ij}$个j型矿车，且只装配这一种矿车。
当$a_{ij}=f_{ij}$时，我们设它单位时间产生的收入是$I_0=u_i*n_i$。当$a_{ij}>f_{ij}$时，收入依然是$I_0$，因为此时效率以挖机为准，但是这意味着在这里矿车产生了浪费。我们不能允许矿车产生浪费，因为这些矿车不产生任何边际收入，但是空耗成本。这些矿车可以用于分配到其他缺矿车的挖机，也可以不使用（这样不用人力成本和维护成本等）。

因此，$a_{ij}<=f_{ij}$
